<!DOCTYPE html>
<html>
  {% include head.html %}
  <body>
    {% include nav.html %}

    <div id="main" role="main" class="container">
      {{ content }}
    </div>

    <div class="wrapper-footer">
      <div class="container">
        <footer class="footer">
          {% include footer.html %}
        </footer>
      </div>
    </div>

    {% include analytics.html %}

   {% include analytics.html %}

  <script>
    // on load: re-apply dark mode if the user set it before
    (function(){
      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.classList.add('dark');
        document.getElementById('theme-toggle')
                .classList.add('dark');
      }
    })();

    // Called when the theme-toggle button is clicked
    function toggleTheme() {
      const html = document.documentElement;
      const btn  = document.getElementById('theme-toggle');
      const isDark = html.classList.toggle('dark');
      btn.classList.toggle('dark', isDark);
      if (isDark) localStorage.setItem('theme','dark');
      else        localStorage.removeItem('theme');
    }
  </script>
    
  </body>
</html>
